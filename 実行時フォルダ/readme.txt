KTT:J:A:J:2020032000
TJAPlayer2 for.PC(仮) by.kairera0467

○概要
DTXManiaXG(Ver.K)をベースにして、TJAPlayer2からいろいろとコードを移植して太鼓っぽくしたソフト。
TJAPlayer2の名前を使わせていただいていますが、ただメソッドの一部を移植したためですので、TJAPlayer2とは何も関係はありません。

最近の流行に乗るため、16:9のワイド画面にデフォルトで対応。
これは停滞しつつあるtja界隈に一石を投じる、一つの社会実験...のようなものである。


○対応している機能
・演奏
・譜面分岐
・SCOREMODE:2(AC15以降の配点)
・複素数スクロール(次郎2の仕様をそれなりに再現)
・選曲画面でのハイスコア表示
・300コンボ以降のノートの動き変更
・風船音符を割った時の虹エフェクト
・判定枠、判定エフェクト、大音符花火の加算合成
・本家みたいな選曲画面の曲名描画
・100コンボ以降に出てくる光画像
・追加命令によるジャンル名設定・演奏画面でのジャンル名表示
・演奏終了時のバチなんとか先生の演出
・キャラクター画像(コマ数無制限)
・複数譜面再生(現在は2譜面まで)
・ゲージモード変更(IIDX、HARD、EX-HARD)
・連打音符の重ね順の自動調整(通常モードとTowerモードの共存)
・曲から選ぶタイプの選曲画面モード(ただし表示はちょっと怪しい)

○諸注意
・そもそもバグの塊です。動いたらラッキー程度で。
・DTXManiaの知識が少し必要です。
・XG要素がちらちら見え隠れしているのは仕様です。そのうち画像作り変えます。
・今のところ選曲画面と演奏画面とリザルト画面以外に太鼓の達人要素はありません。
・細かい使い方は(https://sites.google.com/site/kaitaikopro/howtouse)に書いています。

○曲追加(2016081100改正)
※2015032000からサンプルを付属しています。
1.フォルダを作る。
2.tjaファイルと音源等を入れる。
3.これで動かなかったら諦める。


○プレイモードについて
・キー設定は「DRUMS」内の「DrumsKey」の中にあります。
・バグ多いです。覚悟してください。
・2015041000で大音符の入力処理を完全に実装しました。
　・大音符の入力時間はConfig.iniから弄れます。
　・2016081100から、大音符関連の設定をCONFIG画面から変更できるようになりました。
・2015110500で辛LATE判定が改善されました。
・HSが速すぎると見逃し不可判定が消える不具合は2016021300で解消されました。
・風船連打が叩けるようになるタイミングは、発声時刻の17ミリ秒前からです。
・2018040100から2人プレイが出来るようになりました。(ベータ版)
　・本家っぽい表示には対応していません。


○操作方法
(タイトル画面)
・↑ or ↓	メニュー操作
・Enter		決定
・Esc		終了する

(選曲画面)
・← or →	左に移動
・Enter		決定

・Shift&F1	コンフィグ画面に移動
・F2		簡易オプション画面
・F3		オートプレイ
・F4		ゲージタイプ変更(通常→IIDX風→HARD風→EX-HARD風→???)
・F5		完走!叩き切りまショー! スーパーハード(「完走!叩き切りまショー!(激辛)」が有効の場合のみ)
・F6		BMSCROLL、HBSCROLL切り替え(※かなり動作があやしいので注意。特にDELAYはダメ)
・F7		JUST HIDDEN(仮名)(OFF→TYPE-A→TYPE-B→TYPE-C)
・F8		NOTE(OFF→MONOCHRO)
・F9		ZERO-SPEED
・Space		ソートメニュー

(演奏画面)
※面、縁のキーは設定によって変更できます。
・F or J	面
・D or K	縁

・F1		一時停止メニュー
・1			次の譜面分岐で強制的に普通譜面に移動させる
・2			次の譜面分岐で強制的に玄人譜面に移動させる
・3			次の譜面分岐で強制的に達人譜面に移動させる
・F4		リアルタイム判定数表示の切り替え(1人プレイのみ)
・F5		背景動画の表示位置の切り替え(背景→窓表示→両方→表示しない)
・Delete	デバッグ表示(特に意味は無い)
・Esc		演奏画面を抜ける

・↑		スクロール速度を0.5上げる
・↓		スクロール速度を0.5下げる

(リザルト画面)
・Enter or Esc	選曲画面に戻る


○オプション
・スクロール速度は0.5刻みで変更できます。(DTXManiaの名残)
　演奏画面での表示は0.5～4.5まで対応しています。
・きまぐれ/でたらめ/あべこべ (ゲーム上では「RANDOM/SUPER RANDOMまたはHYPER RANDOM/MIRROR」)に仮対応しています。
・ドロン、ステルスに対応しています。
・グルコスもどきで「NoInfo」なるオプションもあります。
・(お遊び)「完走!叩ききりまショー!」なる、某DAMのパクリゲームを実装しています。
・(お遊び2)ver.2018040100限定でなんか変なオプションが実装されています。(F7、F8、F9)
　それぞれ単体でもお楽しみ頂けますが、重ねがけをすることでもう少し面白くなるかも知れません。
　自分の腕に自信のある方はF7キーのTYPE-AかTYPE-BとF9を重ねがけ、足りない人はF7キーのTYPE-AとF8がオススメです。
　　これでも足りない人はF7のTYPE-CとF9を、ゴリラはF7のTYPE-CとF8とF9とJUSTとEX-HARDゲージでも使っとけ。

これらのオプションは大体独立しているため、本家同様重ねがけが可能です。
※一部オプションはコンフィグ画面に入っています。

○鑑賞モード関連
・選曲画面でF3キー、CONFIG画面の「Drum/AutoPlay」で、鑑賞モードの切り替えができます。
・ver2015082000からオート先生が黄色連打をしなくなるオプションを追加しました。
　・CONFIGの「AutoRoll」で設定できます。OFFの場合は連打をしません。(プレイヤー側の入力は無視されます)

○動画再生について
・tja内に「BGMOVIE:」の記述をすると、背景動画を再生します。
・ただしDirectShowを使用しているため、環境の構築をする必要があります。
・詳しくはDTXManiaでのフィルタ環境構築を参考にしてください。
　>>https://osdn.jp/projects/dtxmania/wiki/DirectShow%E5%AF%BE%E5%BF%9C%E3%81%AB%E3%81%A4%E3%81%84%E3%81%A6

○追加音符
※以下の音符を入れた場合、TJAP2forPC以外のプレイヤーで正常に再生できなくなります。
・AD-LIB
　'F'を入力することで設置できます。
　・グルーヴコースターのAD-LIBと同じような仕様。
・手つなぎ音符
　'A'(赤)、'B'(青)を入力を入力することで設置できます。
　・専用エフェクトはありません。
　・「あえて」1人プレイ時にも表示できるようにしています。また、片方のプレイヤーの色や配置チェックは一切していません。

○対応していない音符
・イモ連打
・くすだま音符
　・画像作るのマジ無理めんどい

○追加命令
・BALLOONNOR:
・BALLOONEXP:
・BALLOONMAS:
　・譜面分岐用の風船連打の命令です。
・GENRE:
　・「アニメ」「J-POP」「バラエティ」「ボーカロイド」「ゲームミュージック」「ナムコオリジナル」「どうよう」「クラシック」
　　のいずれかを入力すると、演奏画面の曲名表示の下にジャンルが表示されます。
　・ver2015081100からは曲選択画面でジャンルによって色分けされます。
・MOVIEOFFSET:
　・動画用のオフセット時間指定です。
・BGIMAGE:
・BGMOVIE:
　・背景画像、背景動画を指定できます。
・HIDDENBRANCH:
　・選曲画面の「譜面分岐」表示を非表示にします。さらに演奏画面で譜面分岐が発生するまで「普通譜面」の表示を非表示にします。
・#LYRIC (歌詞)
　・歌詞を表示します。
　　・歌詞に半角スペースは使用できません。全角スペースをご利用ください。
・#SUDDEN (double 出現タイミング) (double 動き始めるタイミング)
　・ノートの出現タイミング、動き始めるタイミングを変更します。
　　・両方とも、ノートの発声時刻からの秒数を指定します。(実数指定。小数点可)
　　・両方の引数に0を入れることでリセットできます。
　・扱いが難しいです。
　・出現タイミング、動き始めるタイミングのどちらかが開始時刻より早い場合は、演奏時に動作しません。
　・ver2016083100で連打に対応しました。

※以下の命令は連打、風船連打に対応していません。
・#DIRECTION (数字)
　・使ってみて確かめよう。(現在正しく動作しない可能性大。複素数スクロール推奨。)
・#SCROLL (double X方向スクロール速度)(double 符号付きY方向スクロール速度)i
　・複素数スクロールの場合、連打音符はY方向のスクロール速度は無視されます。
　※通常のSCROLLは対応しています。
・#SCROLL (double 負の値)
　・表示がおかしくなります。

○対応していない命令
・SONGVOL:
・SEVOL:
　・めんどい
・GAME:
　・無理。
・LIFE:
　・RISKY値の強制指定という形で使えるようにする予定。
・SIDE:
　・選曲画面がまともじゃない
・SUBTITLE:
　・ver2015082000で--は実装。ver2021xxxxxxで++と記号なしも実装しました。
・TOTAL:
・#DELAY:
　・動作が非常に怪しいです。そのうち作り直します。

○仕様
・本家の要素を結構消していました...が、最近増えてきました。
・対応してない命令多いです。
・曲名、音声ファイル名はTJAから読み込んでいます。
・スコアの動作はかなり怪しいです。
　・ver2015082000でSCOREMODE:2に関してはほぼ完璧になったかも。
　・ver2018040100でゴーゴータイムのバグは修正しました。
・ver2015062000からハイスコア保存に仮対応しました。
　・だがクリアランプは対応していない
・どんちゃんの動きが少し怪しいです。
・スコア加算時のエフェクト(IN方向)が本家と同じです。
　・ただしY方向への拡大エフェクトは無し
・リザルト画面で表示される連打数は"黄色連打のみの連打数"です。
　・黄色連打は黄色連打で、風船連打は風船連打でカウントしたほうがいいと考えているので、この仕様を変更する気はありません。
・8分音符以上の間隔の大音符で片手判定を出すと見逃し不可が出る場合がありますが、これは仕様(片手押しのペナルティ)なので両手で叩くか「BigNotesJudge」で無効にしてください。


○制約事項
・曲選択画面のソートは現在「絶対パス順」「ジャンル順(AC8～AC14)」「ジャンル順(AC15)」の3つだけです。
　・ジャンル順の並び方(バージョン)は昇順降順で切り替え可能。昇順が旧仕様、降順がAC15となっています。
　・Config.iniの「DefaultSongSort」でデフォルトのソートを変更できます。
　・ジャンル順で並び替えた時、ジャンル内で難易度順に並び替わるようになっています。
・複素数スクロールでの連打、風船連打の描画は対応していません。
・判定枠の内部X座標が414以外の場合、飛ぶ音符のエフェクトは出ません。
・「COURSE:5」または「COURSE:Tower」には対応していません。
　・黄色連打の重ね仕様が共存できるようになったためですので、今後実装する予定もありません。
・複数譜面再生時に難易度違いの再生はできません。後日対応予定です。
・たまに演奏画面でやり直しをした時に連打チップがリセットされません。
・ZERO-SPEEDは連打、ふうせん、手つなぎ音符、AD-LIBには適用されません。
・ver2018040100から「#SECTION」命令を一時的に廃止しています。
　・内部で正しく配置されず強制普通譜面とか発生しているので...


○見た目が中途半端なところ
・風船連打のアニメーションが中途半端。
　・画像作成がめんどい
・炎画像が結構適当
・魂到達時のエフェクトが同時に1つまでしか描画されない。
・演奏終了時の「フルコンボ」「クリア失敗」のアニメーションは対応していません。
　・フルコンはあまりにもアニメーションが複雑、クリア失敗は面倒だっただけ。
・拡張性に欠けてます。そのうち改善します。
・手つなぎ音符の見た目が雑です


○細かい仕様
・ゲージの上昇率は意外とガチ。譜面Wikiにあったデータを採用しました。
・譜面分岐の仕様は本家、太鼓さんなんとかと同じです。
　・分岐の1小節前で分岐処理がされる仕組みです。
　・なので一部の曲ではtjaを加工する必要があります。
　　・「DADDY MULK」の場合は連打中に1小節はさむ、など。
・VSyncWaitがオフになっていないとプレビュー音楽がうまくループしてくれません。
・ランダムオプションは実装が適当すぎるので、通常RANDOMもHYPER RANDOMもSUPER RANDOMもクソもありません。
・リザルト画面の表示桁限界は、スコアが7桁、それ以外は4桁です。
・黄色連打の重なり順は音符のHSによって変わるようにしています。これによってTowerモード(難易度:Tower)は廃止となります。
　・直前の音符のHS > 黄色連打のHS	黄色連打優先
　・直前の音符のHS <= 黄色連打のHS	直前の音符優先
・ゴーゴータイムの仕様が現行のものではありません。そのうち修正予定。(音符ごとにフラグを指定していない)
　・2018040100から音符ごとにフラグを指定する仕様になりました。
・IIDXゲージ、HARDゲージ、EX-HARDゲージについてはIIDXと仕様が異なります。
　・HARDゲージ、EX-HARDゲージでの良の加算値は太鼓の加算値と同じです。(他社ゲーとは違ってノート数が少ないのを考慮)
　・通常の不可、見逃し不可による減少値の違いはありません。(IIDXでいうところの見逃しPOORで統一)
　・HARDゲージのみ「30%補正」があります


○スペシャルサンクス
FROM氏(DTXMania原作、StrokeStyle<T>原作)
yyagi氏(DTXMania保守開発)
VIL.氏(tjfフォーマット考案、太鼓さん太郎 原作)
toach氏(tjaフォーマット考案、太鼓さん次郎 原作)
DD氏(一部処理の改良)
TJAPスレ5thの650氏(TJAPlayer2原作)
メロディー氏(タイトル画面の背景画像)
Music Revolver 76573氏(クリア時のモーション画像提供)
AioiLight氏(派生版TJAP3制作。メモリリークの原因究明)
ろみゅ～？氏(派生版TJAP3制作メンバー)
譜面Wikiにてゲージの上昇率を検証、計算式を算出された方
バグ報告をしてくださる方々


○その他
・そもそも2015年エイプリルフール用の1発ネタで終わる予定だったので、企画が雑であれば、その後も雑です。
・動画で出したバージョンは
　・「楽しきトキメキ」2015010200
　・「DEBSTEP!」2015011100
　・「Garakuta Doll Play」2015030800
　　・(上3つは未公開。開発日誌参照)
　・「Daydream cafe」2015040101
　・「SHaVaDaVa in AMAZING♪」 2015081100
　・「海色」2015082000
　・「かくしん的☆めたまるふぉ～ぜっ!」2015091800(未公開)
　・「ノーポイッ!」2015110500
　・「Checkmate!?」201602--00
　・「ふ・れ・ん・ど・し・た・い」2016040100
　・「DADDY MULK -Groove remix-」2016081500
　・「スーパーウルトラハイパーミラクルロマンチック」(リリース無し)
・解析画像は一切使っていません。全てキャプチャ動画からのトリミング、またはベクターで作成した画像です。
　・大音符のエフェクト一部を藤宮 翔流氏のProminence(http://game-hikidashi.com/category/prominence/)を使用して作成しました。


○再配布に関して
2017年5月14日からオープンソース化したため、MITライセンスに従えば再配布可能になります。
ただし、再配布される場合は「License」フォルダの同梱を忘れないよう注意しましょう。

スキン配布はデフォルトスキンの差分みたいな形での配布にすると、色々なトラブルが防げるかもしれません。

○免責事項
このソフトウェアを使用したことにより発生した問題について作者は責任を負いかねます。

○連絡先
HP:https://sites.google.com/site/kairera0467/
特設ページ:https://sites.google.com/site/kaitaikopro/
Github(ソースコード):https://github.com/kairera0467/TJAP2fPC
Mail:gennsou76573@gmail.com
Twitter:@kairera0467


○使用したライブラリ
・bass
・Bass.Net
・DirectShowLib
・FDK21
・SlimDX
・SharpDX(ゲーム中ではAnimationのみ使用)
・IPAフォント
・libogg
・libvorbis
・SQLite

各ライブラリの著作権表記は「License」フォルダに収録しています。


○更新履歴
ver.2020032000 0.871
不具合修正
・WASAPI/ASIO使用時に譜面分岐の内部処理が正しく行われない不具合を修正

ver.2020031800 0.87
機能追加
・譜面分岐ガイドを2人プレイに対応
・Tightオプションを2人プレイに対応

仕様変更
・以下のアニメーションの内部処理を改良
　・曲選択画面の左上テキスト
　・譜面分岐のアニメーション(BranchAnime:TypeAのみ)
　・リザルト移動時の幕アニメーション
　・ゴーゴー炎の登場アニメーション
・プレビュー音の読み込みの処理を改良
・選曲画面(曲から選ぶモード)で難易度選択画面を閉じた時、アニメーションが完全に終了するまで移動などの操作を抑制するよう変更
・不要なオプションの削除

不具合修正
・COURSEの外に書かれているBALLOON命令が無視されている不具合の修正
・2人プレイ時に片方のプレイヤーがミスをすると、それ以降別プレイヤーのコンボ音声が鳴らなくなるのを修正
・背景フッターの画像を入れるフォルダに画像が無かった場合落ちてしまうのを修正
・Tightオプションがもはや使い物になっていなかったので修正...
・コンフィグ画面で1Pオート/2P手動にしてからメニューを変更すると2Pもオートになる不具合を修正
・演奏やり直し時に風船連打が復活しない不具合を修正
・魂ゲージの爆発エフェクトが出ている途中で演奏をやりなおした時に、表示待ち中のエフェクトが引き継がれてしまう不具合を修
・gogosplashの画像ファイルが無いと例外発生する不具合を修正
・選曲画面の中央曲バー(アニメーション用)がなかった場合に例外が発生する不具合を修正
・演奏情報表示がクリア時演出より描画優先度が低くなっていたので修正
・BMScroll時刻の取得時にPlayerが考慮されていなかったので修正

その他
・SQLiteを使用するための準備(実際には使われませんがdllのみ収録)
・xaの再生機能を廃止(xadec.dllは削除して頂いて結構です)
・FDK.dllのdll署名を廃止

ver.2018110400 0.86 2018/11/4
機能追加
・ゴーゴー開始時に出るアレを追加
仕様変更
・見逃し時に判定文字が出ないよう変更
・不要になっていたので「CAct演奏Drumsパッド」クラスの削除
不具合修正
・二重に判定文字が描画されていたので修正
その他
・難易度選択画面スキンを正式に追加
・難易度選択画面の「演奏オプション」「音色をえらぶ」画像のやっつけ版を追加
・2P側のネームプレート画像がなかったので追加
・Exception後になにもしていなかった場所にTraceを追加
・readmeのスペシャルサンクスに数名追加

ver.2018100800 0.86RC4 2018/10/8
機能追加
・ポーズメニューでF1を押したらポーズメニューを非表示にする機能を仮実装
仕様変更
・レーン枠線の描画位置をテクスチャ幅にあわせて描画するよう変更(ただし今後SkinConfig.iniから指定できるよう変更する)
・コンフィグ画面の活性化・非活性化等の処理を少々修正
・SkinConfigの数値初期化メソッド追加
・演奏画面の譜面分岐のレイヤーのX座標が固定値のままだったので移動できるよう修正
・演奏画面のフィールド位置を左に1px広くした
・曲選択画面の左右のパネル枚数を自動で計算する処理を復帰させた
・一部箇所でNull条件演算子とDispose()を使用して解放しているCTextureを、t安全にDisposeするメソッドで解放するよう変更
・手つなぎ音符の腕の座標をfloat型に変更
不具合修正
・曲選択画面の画像のいくつかが無かった場合の処理を追加
・選曲画面のパネル番号等を自動計算するよう修正
・選曲画面の「SCROLLMODE:HBSCROLL」の表記が「HSSCROLL」になっていた不具合を修正
・難易度から選ぶモードで★マークが正しく描画されない不具合を修正
・コンボボイスが再生されない、100コンボ毎の吹き出しが表示されない不具合を修正
・キーコンフィグ時のレイアウトの座標数値を修正
その他
・レーン画像の作り直し
・連打枠画像の作り直し
・必要なくなったテクスチャの読み込みを削除


ver.2018091100 0.86RC3 2018/9/12
機能追加
・曲から選ぶモード用に「譜面分岐あり」の画像を追加

仕様変更
・PrivateFontの縦書き処理が少しマシになったはず

不具合修正
・特定の音声ファイルが無いと難易度選択画面に入れない不具合の修正
・曲リストの生成が終わっていないと曲選択画面に入れなくなっていた不具合の修正

その他
・曲から選ぶスキンに余計なものが入っていたので削除
・曲から選ぶスキンに入れ忘れていた画像を追加

ver.2018090200 0.86RC2 2018/9/3
(※本体の変更はありません)
その他
・曲から選ぶモードスキンの音声データに余計なものが入っていたので差し替え

ver.2018090200 0.86RC1 2018/9/2
機能追加
・選曲画面に「曲からえらぶ」モードを追加(対応したスキンが必要です。詳しくはSkinConfig.iniを参照。)
・「#BRANCHEND」命令に対応
・SkinConfig.iniに選曲画面の背景の設定を追加(現状横敷き詰め枚数のみ)
・大音符花火の第二波っぽいものを実装
・太鼓Wiiっぽいフェードイン・フェードアウトの追加

仕様変更
・ジャンル別に並び替えた際にジャンル内で難易度ソートを行うように変更
・上背景画像を専用フォルダに入れたものをランダムで選ぶよう変更。同時に設定ファイルを追加。(今後仕様が変わる可能性あり)
・フォルダにgenre.iniがあった場合自動でジャンルを指定するよう変更
・コンフィグ画面の左メニューからGuitar、Bassの項目を完全に削除した
・PrivateFontクラスの縦書き文字周辺の内部処理変更
・非選択曲の文字の縁がジャンルに合わせて変わるようにした
・例外発生のため、各種ポップアップメニューの開放漏れ対策を一時取りやめ

不具合修正
・DP時に歌詞が1枚表示されるごとに2枚進んでいた不具合を修正
・譜面分岐中にSCROLL、BPMCHANGE、MEASUREなどを使った場合、次回の譜面分岐で譜面の辻褄があわなくなる不具合を修正
・演奏画面で演奏やり直しをしても現在の小節数カウントがリセットされない不具合を修正
・二人プレイ時に2P側に譜面分岐の表示が出ていない不具合を修正
・行頭にタブ文字が入っているとその行がうまく認識されない不具合を修正

ver.2018052000 2018/5/20
仕様変更
・.NET Frameworksのバージョンを4.5に変更
・連打音符の描画方法を大幅に変更(通常の重ね順と「太鼓タワー その6」っぽい重ね順と共存できるようになりました)
・黄色連打を叩くと打数に応じて色が赤くなるようにした
・音符の座標管理を浮動小数点型に変更した
・AC15風の譜面分岐アニメーションを改良
不具合修正
・2人プレイ専用譜面が存在する場合1人プレイ譜面が遊べなくなる不具合を修正
・手つなぎ音符が常にモノクロになる不具合を修正
・単語でCOURSEを指定されたtjaを読み込む時に正規表現を使うように修正
その他
・bass.dllの更新

ver.2018050300 2018/5/3
不具合修正
・メモリリーク対策

ver.2018040600 2018/4/7
不具合修正
・デバッグ用の表示がそのままになっていたのを修正(#IF DEBUGに切り替え)

ver.2018040100 2018/4/1
機能追加
・ゲージモードを仮実装(選曲画面でF4を押すことで切り替わります。状態はゲーム終了時にリセット)
・新オプション「JUST SUDDEN」を仮実装(選曲画面でF7を押すことで切り替わります。状態はゲーム終了時にリセット)
・新オプション「MONOCHRO NOTE」を仮実装(選曲画面でF8を押すことで切り替わります。状態はゲーム終了時にリセット)
・新オプション「ZERO SPEED」を仮実装(選曲画面でF9を押すことで切り替わります。状態はゲーム終了時にリセット)
・2人プレイを仮実装。不具合が多いのであまり見ないであげてください。
・音符に「手つなぎ音符」を追加。(拡張音符につき要注意)
・ダブルプレイ用譜面の読み込みに対応

仕様変更
・ゴーゴータイムの判定方法を変更(環境によって理論値がズレてしまうのはこれで修正されたはず)
・通常のスコア文字をColor4で調整するようにしたものをスコア加算時の数字画像として使うように変更
・スコア加算時の数字画像を削除
・分岐アナウンスの吹き出しの描画方法をt3D描画に変更
・大音符の両手判定範囲が1f狭かったので修正
・やり直し時の開始位置を早めにしてみる
・CONFIG画面のパネル文PrivateFont描画化
・SkinConfig.iniからスコア加算文字の色を変更できるようにした。(AddScoreColorP1、AddScoreColorP2。10進数のカラーコードRGBをカンマ区切りで入力してください)
・「CChip.n整数値_内部番号」に小節番号を格納するよう変更
不具合修正
・いくつかのクラスにおいてPrivateFontの解放を忘れていた箇所があったので修正
・コンボバルーンの描画優先度を修正
・オートプレイ時にやり直しをすると2回目以降連打が動かなくなるバグを修正...が、完全に修正しきれていない
・真打配点で大音符ボーナスが入っていなかったので修正(Issues#10)
・演奏中の小節番号表示があやふやだったのを修正
・譜面分岐処理時に一部の音符が消しきれていなかったのを修正
・ノート画像を1px右に位置補正されるように変更(ソフト内部での変更です)

機能廃止
・内部処理の問題が発生しているため「#SECTION」命令を一時的に廃止。

その他
・DTXMania Gitの「1b481ac2d8aa7dd675a7628cff8850ef2667b479」「d6ed058dcbd589a674d90cedc2b0de2313ed438e」(音声なし動画対策)を適用
・DTXMania Gitの「CTextureのIDisposable処理改良」関連の適用(中途半端ですが...)

ver.2017072200 2017/7/22
仕様変更
・真打モードの配点が指定されていない場合、通常の配点にフォールバックするように変更(自動配点実装までの繋ぎ)
・真打モード時にコースシンボルの上にマークを描画するようにした(CourseSymbol/sinuchi.png)
・BARLINEON、OFF命令を譜面分岐別の記述に対応させた(しかし分岐後バグの改善はできず)

不具合修正
・複数難易度のtjaで、風船連打の打数が一番最初に書かれたBALLOON(分岐対応命令も含む)に依存してしまう不具合の修正
・真打モードが使えなかったので修正
・フォルダにdtxファイルがあると再生できない不具合を修正
・オート時に大音符の花火エフェクトが出ていなかったのを修正
・ジャンルに「VOCALOID」を指定した時、英字表記とカタカナ表記で内部処理に差が出ていたので修正

ver.2017051800 2017/5/18
機能追加
・デフォルトで選択される難易度を指定するオプションを追加(mod by.DD)
・真打ちモード追加(既存コードを利用)(mod by.DD)
・COURSE単語表記に対応(Easy,Normal,Hard,Oni,Edit,Tower 大文字小文字混在可) (mod by.DD)
・「また遊んでね」画面の有効/無効オプション追加(mod by.DD)

機能復活
・本家風背景モードを解放

仕様変更
・DirectSound時の音割れ対策でAdjustWavesを一時的に撤去。
・#HBSCROLL,#BMSCROLLを自動設定するよう変更(mod by.DD)
・命令と値を分離する時、値の前にスペースや余計な文字が有る場合は削除するようにした(mod by.DD)
・ヘッダ内にあるメモ(命令以外の文字列)を削除するよう変更(mod by.DD)
・芋連打の処理が実装されていないので風船連打扱いに変更(mod by.DD)
・演奏画面のデバッグ情報に現在のSCOREMODEとSCROLLMODEを追加(mod by.DD)
・SCOREMODEが指定されている譜面を再生した際にSCOREMODEをConfig.iniに反映しないよう変更(mod by.DD)

不具合修正
・手動でSCROLLMODEを切り替えた時の異常を修正(mod by.DD)
・同一フォルダ内にある複数のTJAを正常に認識しないバグを修正。(mod by.DD)
・カンマのみの行を全休符(0,)として認識するよう修正(mod by.DD)
・命令と値の間にスペースが無くても読み込めるように修正(mod by.DD)

機能廃止
・隠しコマンドの廃止
・コンフィグファイルによるSCROLLMODEの設定を廃止。(mod by.DD)

その他
・VisualStudio 2015以降でのビルドに対応

ver.2017050800 2017/5/8
仕様変更
・デフォルトスキンのフォルダ名を「Default」に変更。
・隠しコマンドの追加。(実験的)

ver.2017041600 2017/4/16
仕様変更
・デフォルトスキンの画像が数枚抜けていたので追加
・エラー防止のため、DTXVモード・コンパクトモードに侵入しないようにした。

不具合修正
・一度再生したコンボ音声が演奏内で鳴らなくなっていた不具合を修正。

ver.2017031800 2017/3/18
仕様変更
・config.iniから判定範囲を変更できるようにした。
・設定画面のヘッダー画像、フッター画像を読み込めるようにした。

その他
・デフォルトスキンのいらんやつを数枚削除。

ver.2017012400 2017/1/24
機能追加
・演奏中の一時停止メニューを簡易実装。
・コースシンボル画像を実装。(「笑顔になれる報告 その7」SkinConfig.iniから設定する必要があります。)

仕様変更
・コンボ音声のファイル名を外部ファイルから編集できるようにした。(Sound.csv)
・簡易設定画面、ソート画面のフォントを画像フォントからIPAフォントで実際に描画する方式に変更。
・チップチャンネルの大幅移動。(内部処理のみなので影響はありません。)
・見逃し判定を座標依存から現在時刻による判定に変更。
・コンボ表示開始値のデフォルト値を10に変更。
・演奏画面右上に出る現在のステージ数表示で「1曲目」みたいな表示ができるようにした。

不具合修正
・見逃し判定時に音符がすぐ消えないよう修正。
・演奏画面で不要な処理を大幅削除。
・キャラクター画像で「魂MAX時の通常モーション」「魂MAX時のゴーゴータイムモーション」が使えなかったのを修正。
・100コンボ毎に10000点が加算されなくなっていたので修正。
・一定の条件で、オートの風船連打時に0除算エラーが発生するのを修正。
・オート再生時の連打を無効にした状態でオート再生をすると、1ミリ秒に1打の速度で連打がされてしまっていたのを修正。
・譜面分岐のある曲で、内部の小節数カウントがおかしくなっていたのを修正。

機能廃止
・本家っぽい背景を廃止。コード上は残っているので、自前でビルドしてください。

その他
・readmeを一部書き直し。

ver.2016092600 2016/9/26
仕様変更
・DEBUGビルドの場合、タイトル画面で表示するようにした。

その他
・DEBUGビルド設定を外して再ビルド。

ver.2016092400 2016/9/24
機能追加
・100コンボごとに出るアレを追加。(2000コンボ以上になると表示が苦しくなります。)
・SUDDEN命令を連打音符に対応させた。
・小節線の複素数スクロール対応(画像回転含め)
・風船連打の表示を改良
・曲決定時の音声を追加。「SongDecide.ogg」をSystem/Soundフォルダに各自追加してください。デフォルトスキンには付属していません。
・使用できるコンボ音声を1100～1500コンボまで追加。
・リザルト画面に入る時に再生される音声を追加。「ResultIn.ogg」をSystem/Soundフォルダに各自追加してください。デフォルトスキンには付属していません。

仕様変更
・叩いている風船連打の音符を消すように変更。
・背景動画の表示位置を変更できるようにした。
・選曲画面で★10以上の曲にカーソルを合わせている時に、星画像がボードを飛び出ないようにした。
・演奏画面で長い曲名の横幅を自動で縮小するようにした。
・リアルタイム判定数表示を演奏画面からONOFFできるようにした。
・「完走!叩き切りまショー!」の難易度調整。

不具合修正
・オートプレイ時にスコアが更新される不具合を修正。

その他
・サンプル譜面を追加。
・DP(見た目だけ)の準備
・bass.netのdllを更新。
・本体、画像再配布について追記。

2016081501	パッケージにクリア音声が収録されていなかったので追加。
		readmeを加筆。
2016081500	背景画像を本家っぽくするモードを追加。(現時点では拡張性0です。)
		本家っぽくするモード時、黄色連打を叩いた時にキャラクター画像が出るようになった。
		演奏終了時の演出を追加。(通常クリアのみ。少し見た目怪しげ。)
		リアルタイム判定数表示の実装。(特訓モードの左下のアレ相当)
		選曲画面から使える簡易的なオプション画面を追加。
		謎の命令を追加。実用性ゼロ。
		ADLIB音符の実装。
		新オプション「JUST」を追加。
		太鼓さん次郎2の複素数スクロール機能に対応。
		リザルト画面で黄色連打の数を表示できるようにした。
		演奏終了からリザルト画面までの時間をBPMに依存させないようにした。
		連打数の表示を連打終了してから1秒まで表示させるようにした。
		オプション画面から大音符の両手判定の有無を切り替えできるようにした。
		風船連打の判定開始時刻を発声時刻から17ms前に変更。
		「完走!叩ききりまショー!」で、残り時間加算時のアニメーションを追加。(実質従来に比べて延長時間が2秒ほど増えた。)
		「完走!叩ききりまショー!」で、譜面分岐がある譜面で、次の音符まで一定以上の空き時間がある際にタイマーの停止が発生しない不具合を修正。
		どんちゃんのアニメーションのズレを修正。
		BPM、BPMCHANGE命令の数値に','がある場合、'.'に直すようにした。(通常スクロール限定。)
		デバッグ表示、アニメーションに使用されるBPM数値が1増えていたのを修正。
		演奏画面のRAN/MIRオプション表示が正しくなかったので修正。
		太鼓の音色の音声ファイルが無い時に演奏画面でエラーが出てしまうのを修正。
		小節線がカウントされていない不具合の修正。
		大音符の両手判定を無効にできない不具合の修正。
		コンボ画像を高画質なものに差し替え。(メロディー氏Thanks!)
		デフォルトスキンの見直し。
		パッケージにゴーゴー炎画像を入れ忘れていたので追加。
2016040101	一部テクスチャの解放処理が甘かったので修正。
		デフォルトスキンの画像が欠けていたので修正。
2016040100	ゲームモード「完走!叩ききりまショー!」を実装。
		判定画像の描画方法を少し変更。
		演奏中にHS変更をすると1.0刻みで変動してしまう不具合を修正。
		曲読み込み中に落ちる不具合を修正。
2016021300	ヘッダに背景画像、背景動画の指定をする定義を追加。(TJA拡張ヘッダ命令「BGIMAGE:」「BGMOVIE:」)
		難易度切り替え操作の改善。これに伴い選曲画面の操作説明画像を少し変更。
		SkinConfig.iniの追加。ちょっとだけ座標を変更できるようにした。けどぶっちゃけ実用的じゃない。
		ランダムオプションの実装。(ただし実装がダメなため役立たず)
		ドロン、ステルスオプションの実装。
		スクロール速度が一定以上の場合に見逃し不可判定が起きないバグの修正。
		NoInfoオプションの実装。(使用オプション、曲名、ネームプレート、コンボ数、判定、ゲージが演奏画面から抹消されます。)
		一部画像のサイズ変更。
		一時停止状態でもHS、デバッグ表示切り替えができるようにした。
		WASAPI使用時のバッファサイズの挙動をDTXMania Release104相当に変更。
		F3連打でソート画面が出るバグの修正。
		#MOVIEOFFSET命令が動作してなかったのを修正。
2015110500	歌詞を表示する機能を実装。(TJA拡張命令「#LIRYC」)
		100コンボ以上でコンボ文字にかかるエフェクトを簡易実装。
		300コンボ以上で音符のアニメーションが変わるようにした。
		選曲画面の背景画像をジャンルごとに変更できるようにした。
		選曲画面でオートプレイの切り替えをできるようにした。(F3キー)
		密度が高い音符を遅めに叩いた場合に抜けてしまう現象を改善。
		決定画面での曲名表示をゆっくりと現れるようにした。
		キャラクターの通常モーションのズレを少なくできたかもしれない。
		ゴーゴータイム開始時にレーン画像が18ミリ秒の間消えていた不具合を修正。
		連打音符を最初の約100ミリ秒以内に1打でも叩かなければ、後から反応しなくなる不具合の修正。
		譜面読み込みメソッドV4に変更してから「BARLINEOFF」「BARLINEON」が使用できなくなっていたので修正。
2015082400	「COURSE」記述が無い譜面に対応できていないバージョンのままリリースしていたので再ビルド。
		サンプル譜面に「Daydream Cafe」(創作譜面)を追加。音源や動画は自分で用意してください。
		ソートメニューで使用する画像が抜けていたので追加。
2015082201	演奏ができないバグを完全に修正。
		「COURSE」記述が無い譜面に対応。(難易度おに扱いにする)
2015082100	演奏ができないバグをちょっと修正。
		バグ報告でスクショを渡された時に楽をするために、本体をデバッグ設定からリリース設定にしてみる。
		画像の入れ忘れ
2015082000	縦書きな選曲画面を実装。AC9～14風。
		演奏開始前の演出を簡易追加。
		SUBTITLEを表示できるようにした。(ただし曲名への付加は未対応)
		AUTO先生の黄色連打を無効にするオプションの追加。
		キャラクター画像を消すオプションの追加。
		かんたんコースのハイスコアボードを作成。
		譜面分岐時、分岐後もゲージ増加量が普通譜面の数値になっていたバグを修正。
		選曲画面でプレビュー音読み込み中に決定が押されたら、読み込みを破棄してそのまま演奏開始するようにした。
		選曲画面のランダム選曲の曲名を「< RANDOM SELECT >」から「ランダムで曲を選ぶ」に変更。(文字数がちょうどいい)
		演奏開始から1小節目までの時間を一定(OFFSET含む)にした。
		カーソル移動中はハイスコアボードを非表示にするようにした。
		タイトル画面の背景画像をメロディー氏が作成したものに変更。(正式なやつが出来るまではこのままで。)
		ゴーゴー時の大音符の点数がわずかに多くなっていたのを修正。
		ゴーゴータイム開始時と終了時、小節線上の音符のみゴーゴータイムの影響を受けていないバグの修正。
		複数難易度がある曲で正しく配点、風船打数が読み込まれていなかったバグを修正。
		風船音符時の加点が1打につき100点になっていたバグの修正。
		風船音符を割った時にも点数が入っていたので修正。
		LEVELHOLD命令のバグを修正。
		100コンボごとの1万点ボーナスが表示上のスコアに反映されないバグの修正。
		AUTO先生がハイスコアを更新しないよう修正。
		ハイスコア更新でなくてもハイスコアが更新されてしまうのを修正。
2015081200	一部の環境で演奏画面に入れなかったバグの修正。
		少しだけ例外処理を入れた。
2015081101	キャラクター画像のデフォルト値が正しいものになっていなかったのを修正。
		スコアボードに正しい記録が出ない場合がある不具合を修正。
2015081100	譜面読み込みメソッドV4にした時に発生していた、譜面分岐での致命的なバグを修正。
		簡易的なキャラクター画像を追加。ついでにカスタムできるような構造にしてみる。
		ゴーゴータイム開始時の炎画像のアニメーションを実装。
		曲選択画面でジャンルソートを実装。さらにジャンル別ソート時のみ色分けも実装。
		曲選択画面でデフォルトのソート方法を指定できるようにした。
		背景動画用のOFFSET指定命令を追加。(MOVIEOFFSET:)
		「真・画竜点睛」で起こっていたバグの修正。
		一部画像の描画順を変更。
		アタックエフェクト画像の構造を変更。(音符のみ)
		リザルト画面にゲージを追加。
		ネームプレート画像を追加。
		スコア追加時のアニメーションを実装。
		コンボ増加時のアニメーションを実装。
		曲選択画面の選択中の難易度表示を画像化。(右上に表示)
		LEVELHOLD命令に対応。
		AC15風譜面分岐アニメーションを少し修正。
		演奏画面のゲージの色を変更。
2015062200	「VERTeX」みたいな譜面に完全対応。
		ふつうコースのスコアボード画像を追加。
		リザルト画面の判定数フォントを追加。
		大音符花火画像の処理を改良。
2015062000	譜面読み込みメソッドをリニューアル。ただしバグが残ってるorz
		大音符専用の花火画像を良だけ実装。
		選曲画面でのハイスコア表示を実装。(画像が一部仮段階の画像)
		譜面分岐時の通知表示を追加。
		風船を割った時に出る虹の画像を追加。
		「SCOREMODE:」記述があった場合に、自動でSCOREMODEを切り替えるようにした。
		senotesで「コ」が出ないバグを修正。
		リザルト画面で判定数、最大コンボを仮画像で表示するようにした。
2015060100	譜面分岐アニメーションの種類を追加。(7～14風、15以降風。1～6は後日実装予定。)
		tjaに「COURSE:」の記述が無いと選曲できなくなっていたのを修正。
		太鼓音の再生方法を微妙に変更。
2015051000	BARLINEON、BARLINEOFF命令の対応。
		大音符入力までの数値を調整できるようにした。(Config.iniから)
		大音符の片手判定時に、飛んでいく音符の花火エフェクトが出ないようにした。
		コンフィグ画面のレイアウトをちょっとマシにした。
		選曲画面のクイックコンフィグを廃止。
		大音符の飛んでいく花火を2D描画に変更。さらにテクスチャの自動最適化をするようにした。(環境によっては表示されないかも...)
		コンボ音声を中途半端に実装。(1000コンボまで)
		複数の難易度を持つ譜面の読み込みに対応。(難易度の変更は左キーかHH)
2015041000	簡易的な曲プレビューの実装。ただしDEMOSTARTには未対応。
		大音符の片手入力判定の実装。
		senotesのプログラムをTJAPlayer2から移植して安定化。
		風船連打のデフォルト値を設定。
		POOR判定時にスコアが入っていたのを修正。
		POOR判定時に大音符の花火エフェクトが出ていたのを修正。
		Config.iniからの設定読み込みの際、RISKYの設定値がSCOREMODEから読み込まれていて、SCOREMODEは読み込まれていなかったのを修正。
		連打でたまに例外が発生していたのを修正。
2015040101	不備があったので修正。
2015040100	本公開。だけど色々未対応。
		○テスト4からの機能追加
		　・連打音符での目隠しを実装。
		　・ノルマ文字、魂文字の明るさ変化を実装。
		　・#SECTIONに対応。
		　・大音符が飛んでいくときに出る花火画像を実装。
		　・DShowクリップの一時停止処理に対応。
		　・演奏中のジャンル表示を実装。それに伴いGENRE定義の追加。
		　・可判定のスコア補正を実装。
		　・SCOREMODE:0の計算に対応
		　・リザルトへのフェードアウトをそれらしくした。
		　・スコア文字を画像にした。
		　・100コンボ以上のコンボ文字を追加。
		　・魂部分のエフェクトを実装。
		　・黄色連打、風船連打のSenotesを実装。
		　・譜面分岐に考慮したゲージ増減値計算を実装。
		○テスト4からの仕様変更
		　・譜面分岐サポート表示をCONFIG画面から変更できるようにした。
		　・SCOREMODEをCONFIG画面から変更できるようにした。
		○テスト4からの不具合修正
		　・一定の条件で玄人譜面、達人譜面に入れないバグを修正。
		　・譜面分岐曲で見逃し時にゲージが増えるバグを修正。
		　・黄色連打のスコア計算が間違っていたので修正。
		　・演奏中の曲名表示で、曲名と「おに1曲目」の文字の入れ替わり時が不自然だったのを修正。
		　・連打の途中からキーの入力を受け付けないバグを修正。
		　・精度分岐のみ1番最初の分岐でコース変更処理ができていなかったのを無理やり修正。
2015032700	テスト4。senotesがついた。
2015032500	テスト3。譜面分岐がある曲のプレイがだいぶマシになった。画像追加。
		readmeに「その他」が2つあったので修正。
2015032000	テスト2。やばいことになってたのを修正。
2015031900	テスト1
201412--00	制作開始